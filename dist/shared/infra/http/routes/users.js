"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.usersRoutes = void 0;
const express_1 = require("express");
const CreateAnnouncementController_1 = require("../../../../modules/announcements/useCases/createAnnouncement/CreateAnnouncementController");
const DeleteAnnouncementController_1 = require("../../../../modules/announcements/useCases/deleteAnnouncement/DeleteAnnouncementController");
const ListAnnouncementsOfUserController_1 = require("../../../../modules/announcements/useCases/listAnnouncementsOfUser/ListAnnouncementsOfUserController");
const CreateUserController_1 = require("../../../../modules/users/useCases/createUser/CreateUserController");
const GetUserController_1 = require("../../../../modules/users/useCases/getUser/GetUserController");
const UpdateUserController_1 = require("../../../../modules/users/useCases/updateUser/UpdateUserController");
const uploadFile_1 = require("../../../../utils/uploadFile");
const ensureAuthenticated_1 = require("../middleware/ensureAuthenticated");
exports.usersRoutes = (0, express_1.Router)();
const createUserController = new CreateUserController_1.CreateUserController();
const getUserController = new GetUserController_1.GetUserController();
const updateUserController = new UpdateUserController_1.UpdateUserController();
const createAnnouncementController = new CreateAnnouncementController_1.CreateAnnouncementController();
const listAnnouncementsOfUserController = new ListAnnouncementsOfUserController_1.ListAnnouncementsOfUserController();
const deleteAnnouncementController = new DeleteAnnouncementController_1.DeleteAnnouncementController();
exports.usersRoutes.post('/', createUserController.handle);
exports.usersRoutes.get('/', ensureAuthenticated_1.ensureAuthenticated, getUserController.handle);
exports.usersRoutes.patch('/', ensureAuthenticated_1.ensureAuthenticated, uploadFile_1.uploadFile.single('image'), updateUserController.handle);
exports.usersRoutes.post('/announcements', ensureAuthenticated_1.ensureAuthenticated, uploadFile_1.uploadFile.array('image'), createAnnouncementController.handle);
exports.usersRoutes.get('/announcements', ensureAuthenticated_1.ensureAuthenticated, listAnnouncementsOfUserController.handle);
exports.usersRoutes.delete('/announcements/:id', ensureAuthenticated_1.ensureAuthenticated, deleteAnnouncementController.handle);
